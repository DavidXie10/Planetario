<!DOCTYPE html>
<html>
<head>
    <title>Actividad educativa</title>
</head>

<body>
    <div class="container">
        <div class="card-body">
            <p class="card-text">
                <h2>@ViewBag.Activity.Title</h2>
            </p>
            <hr />
            <p>@ViewBag.Activity.Description</p>
            <h4>Impartido por: @ViewBag.Activity.Publisher </h4>

            <div class="row">
                <div class="col">
                    <div class="col-6" style="width:100%;">
                        <div class="card rounded-3 bg-light" style="margin: 15px 0 15px 0;">
                            <div class="card-body" style="height:25rem;font-size: 1rem">
                                <p><strong>Fecha:</strong> @ViewBag.Activity.Date</p><br />
                                <p><strong>Duración:</strong> @ViewBag.Activity.Duration minutos</p><br />
                                @{
                                    string price = (ViewBag.Activity.Price == 0) ? "Gratis" : "₡" + @ViewBag.Activity.Price;
                                }
                                <p><strong>Precio:</strong>  @price </p><br />
                                <p><strong>Capacidad:</strong> @ViewBag.Activity.MaximumCapacity personas</p><br />
                                <p><strong>Tipo:</strong> @ViewBag.Activity.ActivityType</p><br />
                                <p><strong>Nivel de complejidad:</strong> @ViewBag.Activity.ComplexityLevel</p><br />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="col">
                    <div class="col-6" style="width:100%">
                        <div class="card rounded-3 bg-light" style="margin: 15px 0 15px 0;">
                            <div class="card-body" style="height:25rem;">
                                <h5>Categoría: <a class="badge rounded-pill bg-success"> @ViewBag.Activity.Category</a></h5>
                                <h5>
                                    Tópicos:
                                    @foreach (var topic in ViewBag.Activity.Topics) {
                                        <a class="badge rounded-pill bg-info"> @topic</a>
                                    }
                                </h5>
                                <h5>
                                    Publicos Meta:
                                    @foreach (var targetAudienceInstance in ViewBag.Activity.TargetAudience) {
                                        <a class="badge  rounded-pill bg-info"> @targetAudienceInstance</a>
                                    }
                                </h5>
                                @if (ViewBag.Activity.RefEducationalMaterial.Count > 0) {
                                    <p class="card-text" style="margin-top: 15px;">
                                        <h5>Materiales</h5>
                                        @foreach (var material in ViewBag.Activity.RefEducationalMaterial) {
                                            <a href="~/Educational_Material/@material" download="@material"> <i class="fas fa-download"></i>@material</a>
                                            <br />
                                        }
                                    </p>
                                }
                            </div>
                        </div>
                    </div>

                </div>
            </div>

            <div class="text-center">
                @Html.ActionLink("Inscribirme", "../EducationalActivity/ActivityInscription", new { activityTitle = @ViewBag.Activity.Title, activityDate = @ViewBag.Activity.Date }, new { @class = "align-self-end align-self-right btn btn-success", @style = "margin-top: 1rem; margin-bottom: 1rem; height: 3rem; width: 35%; font-size: 1.3rem;" })
            </div>

            <hr />

            <div class="row card">
                <div class="col card-header">
                    <h4 class="text-center"> Actividades similares </h4>
                </div>

                <div class="row d-flex">
                    @if (ViewBag.SimilarActivities.Count == 0) {
                        <p style="color: black; text-align: center; font-size: 1.5rem">¡No hay actividades similares!</p>
                    }

                    @foreach (var activity in ViewBag.SimilarActivities) {
                        if (activity.State == "1") {
                            <div id="@activity.Title " class="col-4 d-flex justify-content-evenly">
                                <div id="@activity.Title" class="card rounded-3 bg-light" style="margin: 15px 0 15px 0;">
                                    <div class="card-body d-flex flex-column">
                                        @{string tempTitle = activity.Title; }
                                        @Html.ActionLink(tempTitle, "EducationalActivity", new { tempActivity = Json.Encode(@activity) }, new { @class = "align-self-end align-self-right btn btn-primary", @style = "margin-top: auto; " })
                                    </div>
                                </div>
                            </div>
                        }
                    }
                </div>
            </div>





        </div>
    </div>
</body>
</html>
